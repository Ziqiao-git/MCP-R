{
  "qualifiedName": "@smithery-ai/gitlab",
  "displayName": "GitLab",
  "description": "Enable project management and file operations with GitLab.",
  "iconUrl": "https://icons.duckduckgo.com/ip3/gitlab.com.ico",
  "remote": false,
  "deploymentUrl": null,
  "security": {
    "scanPassed": true
  },
  "tools": [
    {
      "name": "create_or_update_file",
      "description": "Create or update a single file in a GitLab project",
      "inputSchema": {
        "type": "object",
        "$schema": "http://json-schema.org/draft-07/schema#",
        "required": [
          "project_id",
          "file_path",
          "content",
          "commit_message",
          "branch"
        ],
        "properties": {
          "branch": {
            "type": "string",
            "description": "Branch to create/update the file in"
          },
          "content": {
            "type": "string",
            "description": "Content of the file"
          },
          "file_path": {
            "type": "string",
            "description": "Path where to create/update the file"
          },
          "project_id": {
            "type": "string",
            "description": "Project ID or URL-encoded path"
          },
          "previous_path": {
            "type": "string",
            "description": "Path of the file to move/rename"
          },
          "commit_message": {
            "type": "string",
            "description": "Commit message"
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "search_repositories",
      "description": "Search for GitLab projects",
      "inputSchema": {
        "type": "object",
        "$schema": "http://json-schema.org/draft-07/schema#",
        "required": [
          "search"
        ],
        "properties": {
          "page": {
            "type": "number",
            "description": "Page number for pagination (default: 1)"
          },
          "search": {
            "type": "string",
            "description": "Search query"
          },
          "per_page": {
            "type": "number",
            "description": "Number of results per page (default: 20)"
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "create_repository",
      "description": "Create a new GitLab project",
      "inputSchema": {
        "type": "object",
        "$schema": "http://json-schema.org/draft-07/schema#",
        "required": [
          "name"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "Repository name"
          },
          "visibility": {
            "enum": [
              "private",
              "internal",
              "public"
            ],
            "type": "string",
            "description": "Repository visibility level"
          },
          "description": {
            "type": "string",
            "description": "Repository description"
          },
          "initialize_with_readme": {
            "type": "boolean",
            "description": "Initialize with README.md"
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "get_file_contents",
      "description": "Get the contents of a file or directory from a GitLab project",
      "inputSchema": {
        "type": "object",
        "$schema": "http://json-schema.org/draft-07/schema#",
        "required": [
          "project_id",
          "file_path"
        ],
        "properties": {
          "ref": {
            "type": "string",
            "description": "Branch/tag/commit to get contents from"
          },
          "file_path": {
            "type": "string",
            "description": "Path to the file or directory"
          },
          "project_id": {
            "type": "string",
            "description": "Project ID or URL-encoded path"
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "push_files",
      "description": "Push multiple files to a GitLab project in a single commit",
      "inputSchema": {
        "type": "object",
        "$schema": "http://json-schema.org/draft-07/schema#",
        "required": [
          "project_id",
          "branch",
          "files",
          "commit_message"
        ],
        "properties": {
          "files": {
            "type": "array",
            "items": {
              "type": "object",
              "required": [
                "file_path",
                "content"
              ],
              "properties": {
                "content": {
                  "type": "string",
                  "description": "Content of the file"
                },
                "file_path": {
                  "type": "string",
                  "description": "Path where to create the file"
                }
              },
              "additionalProperties": false
            },
            "description": "Array of files to push"
          },
          "branch": {
            "type": "string",
            "description": "Branch to push to"
          },
          "project_id": {
            "type": "string",
            "description": "Project ID or URL-encoded path"
          },
          "commit_message": {
            "type": "string",
            "description": "Commit message"
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "create_issue",
      "description": "Create a new issue in a GitLab project",
      "inputSchema": {
        "type": "object",
        "$schema": "http://json-schema.org/draft-07/schema#",
        "required": [
          "project_id",
          "title"
        ],
        "properties": {
          "title": {
            "type": "string",
            "description": "Issue title"
          },
          "labels": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "Array of label names"
          },
          "project_id": {
            "type": "string",
            "description": "Project ID or URL-encoded path"
          },
          "description": {
            "type": "string",
            "description": "Issue description"
          },
          "assignee_ids": {
            "type": "array",
            "items": {
              "type": "number"
            },
            "description": "Array of user IDs to assign"
          },
          "milestone_id": {
            "type": "number",
            "description": "Milestone ID to assign"
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "create_merge_request",
      "description": "Create a new merge request in a GitLab project",
      "inputSchema": {
        "type": "object",
        "$schema": "http://json-schema.org/draft-07/schema#",
        "required": [
          "project_id",
          "title",
          "source_branch",
          "target_branch"
        ],
        "properties": {
          "draft": {
            "type": "boolean",
            "description": "Create as draft merge request"
          },
          "title": {
            "type": "string",
            "description": "Merge request title"
          },
          "project_id": {
            "type": "string",
            "description": "Project ID or URL-encoded path"
          },
          "description": {
            "type": "string",
            "description": "Merge request description"
          },
          "source_branch": {
            "type": "string",
            "description": "Branch containing changes"
          },
          "target_branch": {
            "type": "string",
            "description": "Branch to merge into"
          },
          "allow_collaboration": {
            "type": "boolean",
            "description": "Allow commits from upstream members"
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "fork_repository",
      "description": "Fork a GitLab project to your account or specified namespace",
      "inputSchema": {
        "type": "object",
        "$schema": "http://json-schema.org/draft-07/schema#",
        "required": [
          "project_id"
        ],
        "properties": {
          "namespace": {
            "type": "string",
            "description": "Namespace to fork to (full path)"
          },
          "project_id": {
            "type": "string",
            "description": "Project ID or URL-encoded path"
          }
        },
        "additionalProperties": false
      }
    },
    {
      "name": "create_branch",
      "description": "Create a new branch in a GitLab project",
      "inputSchema": {
        "type": "object",
        "$schema": "http://json-schema.org/draft-07/schema#",
        "required": [
          "project_id",
          "branch"
        ],
        "properties": {
          "ref": {
            "type": "string",
            "description": "Source branch/commit for new branch"
          },
          "branch": {
            "type": "string",
            "description": "Name for the new branch"
          },
          "project_id": {
            "type": "string",
            "description": "Project ID or URL-encoded path"
          }
        },
        "additionalProperties": false
      }
    }
  ],
  "connections": [
    {
      "type": "stdio",
      "bundleUrl": "https://backend.smithery.ai/storage/v1/object/public/bundles/@smithery-ai/gitlab/server.mcpb",
      "runtime": "node",
      "configSchema": {
        "type": "object",
        "required": [
          "gitlabPersonalAccessToken"
        ],
        "properties": {
          "gitlabApiUrl": {
            "type": "string",
            "default": "https://gitlab.com/api/v4",
            "description": "Base URL for GitLab API, optional for self-hosted instances."
          },
          "gitlabPersonalAccessToken": {
            "type": "string",
            "description": "Your GitLab personal access token."
          }
        }
      }
    }
  ]
}